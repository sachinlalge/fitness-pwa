<!-- <div class="row">
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-cube text-danger icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">Total Revenue</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">$65,650</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-alert-octagon mr-1" aria-hidden="true"></i> 65% lower growth
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-receipt text-warning icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">Orders</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">3455</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-bookmark-outline mr-1" aria-hidden="true"></i> Product-wise sales
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-poll-box text-success icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">Sales</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">5693</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-calendar mr-1" aria-hidden="true"></i> Weekly Sales
        </p>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
    <div class="card card-statistics">
      <div class="card-body">
        <div class="clearfix">
          <div class="float-left">
            <i class="mdi mdi-account-location text-info icon-lg"></i>
          </div>
          <div class="float-right">
            <p class="mb-0 text-right">Employees</p>
            <div class="fluid-container">
              <h3 class="font-weight-medium text-right mb-0">246</h3>
            </div>
          </div>
        </div>
        <p class="text-muted mt-3 mb-0">
          <i class="mdi mdi-reload mr-1" aria-hidden="true"></i> Product-wise sales
        </p>
      </div>
    </div>
  </div>
</div> -->

<div class="row">
  <!--weather card-->
  <!-- <div class="col-lg-7 grid-margin stretch-card"> 
     <div class="card card-weather">
      <div class="card-body">
        <div class="weather-date-location">
          <h3>Monday</h3>
          <p class="text-gray">
            <span class="weather-date">25 October, 2016</span>
            <span class="weather-location">London, UK</span>
          </p>
        </div>
        <div class="weather-data d-flex">
          <div class="mr-auto">
            <h4 class="display-3">21
              <span class="symbol">&deg;</span>C</h4>
            <p>
              Mostly Cloudy
            </p>
          </div>
        </div>
      </div>
      <div class="card-body p-0">
        <div class="d-flex weakly-weather">
          <div class="weakly-weather-item">
            <p class="mb-0">
              Sun
            </p>
            <i class="mdi mdi-weather-cloudy"></i>
            <p class="mb-0">
              30°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Mon
            </p>
            <i class="mdi mdi-weather-hail"></i>
            <p class="mb-0">
              31°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Tue
            </p>
            <i class="mdi mdi-weather-partlycloudy"></i>
            <p class="mb-0">
              28°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Wed
            </p>
            <i class="mdi mdi-weather-pouring"></i>
            <p class="mb-0">
              30°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Thu
            </p>
            <i class="mdi mdi-weather-pouring"></i>
            <p class="mb-0">
              29°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Fri
            </p>
            <i class="mdi mdi-weather-snowy-rainy"></i>
            <p class="mb-0">
              31°
            </p>
          </div>
          <div class="weakly-weather-item">
            <p class="mb-1">
              Sat
            </p>
            <i class="mdi mdi-weather-snowy"></i>
            <p class="mb-0">
              32°
            </p>
          </div>
        </div>
      </div>
    </div> 
  </div> -->
  <!--weather card ends-->

  <!-- <div class="col-lg-5 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title text-primary mb-5">Performance History</h2>
        <div class="wrapper d-flex justify-content-between">
          <div class="side-left">
            <p class="mb-2">The best performance</p>
            <p class="display-3 mb-4 font-weight-light">+45.2%</p>
          </div>
          <div class="side-right">
            <small class="text-muted">2017</small>
          </div>
        </div>
        <div class="wrapper d-flex justify-content-between">
          <div class="side-left">
            <p class="mb-2">Worst performance</p>
            <p class="display-3 mb-5 font-weight-light">-35.3%</p>
          </div>
          <div class="side-right">
            <small class="text-muted">2015</small>
          </div>
        </div>
        <div class="wrapper">
          <div class="d-flex justify-content-between">
            <p class="mb-2">Sales</p>
            <p class="mb-2 text-primary">88%</p>
          </div>
          <div class="progress">
            <div class="progress-bar bg-primary progress-bar-striped progress-bar-animated" role="progressbar" style="width: 88%" aria-valuenow="88"
              aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="wrapper mt-4">
          <div class="d-flex justify-content-between">
            <p class="mb-2">Visits</p>
            <p class="mb-2 text-success">56%</p>
          </div>
          <div class="progress">
            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: 56%" aria-valuenow="56"
              aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
    </div>
  </div> -->
</div>

<div class="d-flow-root text-md-center pl-3 pr-3 pb-md-3 pb-2">
  <span class="h4 mb-0 pl-md-5">Users</span>
  <div class="d-flex float-right">
    <div class="excelicon mr-md-2" (click)="exportExcel()">
      <img src="../../../assets/images/excel-icon.png">
    </div>
    <button class="btn btn-outline-dark d-none d-md-inline" data-toggle="modal" data-target="#exampleModalCenter">Upload</button>
  </div>
</div>

<div class="col-lg-12 stretch-card d-none d-md-block">
  <div class="card">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th (click)="sort('userid')">ID
                <i class="fa"
                  [ngClass]="{'fa-sort-asc': (column == 'userid' && !isDesc) ,'fa-sort-desc': (column == 'userid' && isDesc) }"
                  aria-hidden="true"></i>
              </th>
              <th (click)="sort('name')">Name
                <i class="fa"
                  [ngClass]="{'fa-sort-asc': (column == 'name' && !isDesc) ,'fa-sort-desc': (column == 'name' && isDesc) }"
                  aria-hidden="true"></i>
              </th>
              <th class="text-center" (click)="sort('gender')">Gender
                <i class="fa"
                [ngClass]="{'fa-sort-asc': (column == 'gender' && !isDesc) ,'fa-sort-desc': (column == 'gender' && isDesc) }"
                aria-hidden="true"></i>
              </th>
              <th class="text-center" (click)="sort('age')">Age (Years)
                <i class="fa"
                [ngClass]="{'fa-sort-asc': (column == 'age' && !isDesc) ,'fa-sort-desc': (column == 'age' && isDesc) }"
                aria-hidden="true"></i>
              </th>
              <th class="text-center" (click)="sort('weight')">Current Weight
                <i class="fa"
                [ngClass]="{'fa-sort-asc': (column == 'weight' && !isDesc) ,'fa-sort-desc': (column == 'weight' && isDesc) }"
                aria-hidden="true"></i>
              </th>
              <th></th>
            </tr>
            <!-- <tr class="searchInput">
              <td>
                <input type="text" class="form-control" placeholder="Id" [(ngModel)]="search.id">
              </td> 
              <td>
                <input type="text" class="form-control" placeholder="Name" [(ngModel)]="search.name">
              </td>
              <td>
                <input type="text" class="form-control" placeholder="Gender" [(ngModel)]="search.gender">
              </td>
              <td>
                <input type="text" class="form-control" placeholder="Age" [(ngModel)]="search.age">
              </td>
              <td>
                <input type="text" class="form-control" placeholder="Latest Weight" [(ngModel)]="search.weight">
              </td>
              <td>
                <button type="button" class="btn btn-outline-primary btn-sm" (click)="clearBtn()">Clear</button>
              </td>
            </tr> -->
          </thead>
          <tbody>
            <tr class="" *ngFor="let item of userlist | filterBy: search | paginate: { itemsPerPage: 10, currentPage: p }; let i = index;">
              <td data-th="id">{{item.userid}}</td>
              <td data-th="Name">{{item.name}}</td>
              <td data-th="gender" class="text-center">{{item.gender}}</td>
              <td data-th="age" class="text-center">{{item.age}}</td>
              <td data-th="weight" class="text-center">{{item.weight}}</td>
              <td class="pagelink">
                <a class="text-decoration-line mr-4" (click)="gotestPage(item)"><u>Test</u></a>
                <a class="text-decoration-line" (click)="goworkPage(item)"><u>Workout</u></a>
                <!-- <button type="button" class="btn btn-outline-success btn-sm mr-4 testBtn" (click)="gotoPage(['pages/test'])">Test</button> -->
                <!-- <button type="button" class="btn btn-outline-danger btn-sm" (click)="gotoPage(['pages/workout'])">Workout</button> -->
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <pagination-controls class="text-center d-none d-md-block" (pageChange)="p = $event"></pagination-controls>
  </div>
</div>

<div class="col-lg-12 grid-margin stretch-card d-md-none">
  <div class="card">
    <div class="card-body">
      <div class="listview" ngxInfiniteScroller strategy="scrollingToBoth" 
          (onScrollUp)="onScrollUp()"
          (onScrollDown)="onScrollDown()">
        <div class="innerlists" *ngFor="let item of tenRecords">
          <p class="m-0"><label class="m-0" for="" >Name </label><span>:&nbsp;&nbsp;{{item.name}}</span></p>
          <div class="listdiv">
            <p class="m-0"><label class="m-0 dashlabel" for="">Gender </label><span>:&nbsp;&nbsp;{{item.gender}}</span></p>
            <p class="m-0"><label class="m-0 dashlabel" for="" >Id </label><span>:&nbsp;&nbsp;{{item.userid}}</span></p>
          </div>
          <div class="listdiv">
            <p class="m-0"><label class="m-0 dashlabel" for="">Age </label><span>:&nbsp;&nbsp;{{item.age}}</span></p>
            <p class="m-0"><label class="m-0 dashlabel" for="">Current Weight </label><span>:&nbsp;&nbsp;{{item.weight}}</span></p>
          </div>
          <div class="butonsDiv d-flex justify-content-between pt-1 pb-1">
            <a (click)="gotestPage(item)"><u>Test</u></a>
            <a (click)="goworkPage(item)"><u>Workout</u></a>
          </div>
        </div>
        <div class="bgGround" *ngIf = "infinitespinner"></div>
        <div class="text-center" *ngIf = "infinitespinner"><progress-spinner></progress-spinner></div>
      </div>
    </div>
  </div>
</div>  

<!-- upload pop up -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">File Upload</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- choose file -->
        <div class="custom-file">
          <input type="file" class="custom-file-input" id="customFileLang" >
          <label class="custom-file-label" for="customFileLang">Select Files</label>
        </div>
        <!-- choose file end -->
        <div class="row">
          <div class="col-md-3">Multiple
            <input type="file" ng2FileSelect [uploader]="uploader" multiple (onFileSelected)="onFileSelected($event)"  /><br/>
          </div> 
          <div class="" style="margin-bottom: 40px">
            <!-- <h3>Upload queue</h3>  -->
            <p>Queue length: {{ uploader?.queue?.length }}</p>
            <table class="table">
              <thead>
                <tr>
                  <th width="50%">Name</th>
                  <th>Size</th>
                  <th>Progress</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of uploader.queue">
                  <td><strong>{{ item?.file?.name }}</strong></td>
                  <td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                  <td *ngIf="uploader.isHTML5">
                      <div class="progress" style="margin-bottom: 0;">
                          <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
                      </div>
                  </td>
                  <td class="text-center">
                      <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                      <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                      <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                  </td>
                  <td nowrap>
                    <button type="button" class="btn btn-success btn-xs"
                        (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
                        <span class="glyphicon glyphicon-upload"></span> Upload
                    </button>
                    <button type="button" class="btn btn-warning btn-xs"
                            (click)="item.cancel()" [disabled]="!item.isUploading">
                        <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                    </button>
                    <button type="button" class="btn btn-danger btn-xs"
                            (click)="item.remove()">
                        <span class="glyphicon glyphicon-trash"></span> Remove
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
     
            <div>
              <div>Queue progress:
                <div class="progress" style="">
                    <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
                </div>
              </div>
                <button type="button" class="btn btn-success btn-s"
                        (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
                    <span class="glyphicon glyphicon-upload"></span> Upload all
                </button>
                <button type="button" class="btn btn-warning btn-s"
                        (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading">
                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                </button>
                <button type="button" class="btn btn-danger btn-s"
                        (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                    <span class="glyphicon glyphicon-trash"></span> Remove all
                </button>
                </div>
            </div>
        </div>
        <!--  -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Upload Files</button>
      </div>
    </div>
  </div>
</div>